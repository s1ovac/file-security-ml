# Система анализа безопасности файлов

Автоматизированная система для анализа безопасности файлов в облачном хранилище с использованием машинного обучения.

## Описание

Система предназначена для автоматической классификации файлов на безопасные и потенциально опасные на основе их характеристик. Использует алгоритм Random Forest для построения модели предсказания.

## Функциональность

- Генерация синтетических данных для обучения модели
- Анализ данных (EDA) с визуализацией
- Предобработка данных
- Обучение модели Random Forest
- Оценка производительности модели
- Предсказание безопасности файлов

## Требования

- Python 3.7+
- pandas
- numpy
- scikit-learn
- matplotlib
- seaborn

## Установка

```bash
pip install pandas numpy scikit-learn matplotlib seaborn
```

## Структура проекта

```
.
├── file_security_analyzer.py    # Основной код
├── eda_visualization.png        # Визуализация анализа данных
├── model_evaluation.png         # Оценка модели
├── feature_importance.png       # Важность признаков
└── README.md                    # Документация
```

## Использование

### Базовое использование

```python
from file_security_analyzer import FileSecurityAnalyzer

# Создание анализатора
analyzer = FileSecurityAnalyzer()

# Генерация данных
data = analyzer.generate_synthetic_data(n_samples=10000)

# Анализ данных
data = analyzer.perform_eda(data)

# Предобработка
X, y = analyzer.preprocess_data(data)

# Обучение модели
X_test, y_test = analyzer.train_model(X, y)

# Оценка модели
y_pred_proba = analyzer.evaluate_model(X_test, y_test)

# Предсказание для нового файла
file_data = {
    'extension': 'pdf',
    'file_size': 100,
    'file_age': 30,
    'access_count': 5,
    'compression_ratio': 0,
    'has_signature': 1
}

safety_probability = analyzer.predict_file_safety(file_data)
print(f"Вероятность безопасности файла: {safety_probability:.4f}")
```

## Признаки модели

Модель использует следующие характеристики файлов:

1. **extension** - расширение файла
2. **file_size** - размер файла (в КБ)
3. **file_age** - возраст файла (в днях)
4. **access_count** - количество обращений к файлу
5. **compression_ratio** - уровень сжатия (для архивов)
6. **has_signature** - наличие цифровой подписи

## Безопасные и небезопасные расширения

### Безопасные расширения
- pdf
- docx
- xlsx
- txt
- png
- jpg
- zip

### Потенциально опасные расширения
- exe
- bat
- vbs
- js
- scr
- ps1
- cmd

## Визуализация результатов

Система автоматически генерирует следующие визуализации:

1. **EDA Visualization** - анализ данных:
   - Распределение по расширениям файлов
   - Процент безопасных файлов по расширениям
   - Распределение размеров файлов
   - Корреляционная матрица

2. **Model Evaluation** - оценка модели:
   - Матрица ошибок
   - ROC кривая

3. **Feature Importance** - важность признаков

## Метрики модели

Модель оценивается по следующим метрикам:
- Точность (Accuracy)
- Precision, Recall, F1-score
- ROC AUC Score

## Примечания

- Модель обучена на синтетических данных и требует доучивания на реальных данных для продакшн использования
- Система добавляет 10% шума в данные для увеличения устойчивости модели
- Для инференса модель автоматически нормализует входные данные
